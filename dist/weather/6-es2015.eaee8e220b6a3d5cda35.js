(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"284d":function(t,e,a){"use strict";a.r(e),a.d(e,"DetailModule",(function(){return B}));var r=a("ofXK"),c=a("tyNb"),o=a("XNiG"),s=a("pLZG"),n=a("1G5W"),i=a("Na/C"),b=a("fXoL"),l=a("l7P3");let p=(()=>{class t{}return t.getForecast=Object(l.g)("[Forecast Page] Get Forecast",Object(l.l)()),t.getForecastSuccess=Object(l.g)("[Forecast API] Get Forecast Success",Object(l.l)()),t.getForecastFailure=Object(l.g)("[Forecast API] Get Forecast Failure",Object(l.l)()),t})();const d={weatherForecast:null,apiState:i.a.Init,error:null};let u=(()=>{class t{}return t.featureSelectorKey="forecast",t.reducer=Object(l.i)(d,Object(l.k)(p.getForecast,(t,e)=>Object.assign(Object.assign({},t),{apiState:i.a.Pending,error:null})),Object(l.k)(p.getForecastSuccess,(t,{payload:e})=>Object.assign(Object.assign({},t),{weatherForecast:e,apiState:i.a.Done,error:null})),Object(l.k)(p.getForecastFailure,(t,{error:e})=>Object.assign(Object.assign({},t),{apiState:i.a.Error,error:e}))),t})();function h(t,e){return u.reducer(t,e)}let f=(()=>{class t{}return t.forecastState=Object(l.h)(u.featureSelectorKey),t.forecast=Object(l.j)(t.forecastState,t=>t?t.weatherForecast:null),t.error=Object(l.j)(t.forecastState,t=>t?t.error:null),t.apiState=Object(l.j)(t.forecastState,t=>t?t.apiState:null),t})(),g=(()=>{class t{constructor(t){this.store=t,this.forecast$=this.store.select(f.forecast),this.error$=this.store.pipe(Object(l.m)(f.error)),this.apiState$=this.store.pipe(Object(l.m)(f.apiState))}getForecast(t){this.store.dispatch(p.getForecast({payload:t}))}}return t.\u0275fac=function(e){return new(e||t)(b.Sb(l.b))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=a("dNgK"),j=a("DgpY"),F=a("bTqV"),S=a("Xa2L");function y(t,e){if(1&t){const t=b.Pb();b.Ob(0,"div",3),b.Ob(1,"div"),b.Kb(2,"app-weather-forecast-container",4),b.Nb(),b.Ob(3,"div",5),b.Ob(4,"button",6),b.Wb("click",(function(){return b.ic(t),b.ac().goBack()})),b.rc(5,"Back"),b.Nb(),b.Nb(),b.Nb()}if(2&t){const t=b.ac();b.zb(2),b.dc("location",t.city)}}function m(t,e){1&t&&b.Kb(0,"mat-spinner",7),2&t&&b.dc("diameter",50)("strokeWidth",2)}const w=[{path:"",component:(()=>{class t{constructor(t,e,a,r){this.forecastFacade=t,this.router=e,this.snackBar=a,this.cdRef=r,this.apiState=i.a.Init,this.destroy$=new o.a}ngOnInit(){this.forecastFacade.forecast$.pipe(Object(s.a)(t=>!!t),Object(n.a)(this.destroy$)).subscribe(t=>{this.city=t},t=>{this.openSnackBar(t.message,"Error")}),this.forecastFacade.apiState$.pipe(Object(s.a)(t=>!!t),Object(n.a)(this.destroy$)).subscribe(t=>{this.apiState=t,this.cdRef.detectChanges()}),this.loadForecast()}loadForecast(){this.woeid=this.router.snapshot.paramMap.get("id"),this.forecastFacade.getForecast(this.woeid)}goBack(){window.history.back()}openSnackBar(t,e){this.snackBar.open(t,e,{duration:2e3})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(g),b.Jb(c.a),b.Jb(O.a),b.Jb(b.h))},t.\u0275cmp=b.Db({type:t,selectors:[["app-detail"]],decls:3,vars:2,consts:[["class","detail-container",4,"ngIf"],[1,"spinner-loader"],["color","accent",3,"diameter","strokeWidth",4,"ngIf"],[1,"detail-container"],[3,"location"],[1,"back-btn"],["mat-raised-button","","color","primary",3,"click"],["color","accent",3,"diameter","strokeWidth"]],template:function(t,e){1&t&&(b.qc(0,y,6,1,"div",0),b.Ob(1,"div",1),b.qc(2,m,1,2,"mat-spinner",2),b.Nb()),2&t&&(b.dc("ngIf","Done"===e.apiState),b.zb(2),b.dc("ngIf","Done"!==e.apiState))},directives:[r.j,j.a,F.a,S.b],styles:[".detail-container[_ngcontent-%COMP%]{margin-right:auto;margin-left:auto;width:800px}.detail-container[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-top:20px}.spinner-loader[_ngcontent-%COMP%]{text-align:-webkit-center}"]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[c.c.forChild(w)],c.c]}),t})();var v=a("9jGm"),$=a("mrSG"),I=a("eIep"),G=a("lJxs"),P=a("JIr8"),N=a("LRne"),C=a("s3jh");let D=(()=>{class t{constructor(t,e){this.actions$=t,this.weatherService=e,this.getForecast$=this.actions$.pipe(Object(v.d)(p.getForecast),Object(I.a)(t=>this.weatherService.getWeatherDetailForeCast(t.payload).pipe(Object(G.a)(t=>p.getForecastSuccess({payload:t})),Object(P.a)(t=>Object(N.a)(p.getForecastFailure({error:t}))))))}}return t.\u0275fac=function(e){return new(e||t)(b.Sb(v.a),b.Sb(C.a))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac}),Object($.a)([Object(v.b)()],t.prototype,"getForecast$",void 0),t})();var J=a("OhnZ");let B=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[r.b,k,J.a,F.b,S.a,O.b,l.d.forFeature(u.featureSelectorKey,h),v.c.forFeature([D])]]}),t})()}}]);