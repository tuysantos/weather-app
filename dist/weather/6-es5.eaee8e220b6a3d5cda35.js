!function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function e(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"284d":function(t,a,n){"use strict";n.r(a),n.d(a,"DetailModule",(function(){return R}));var c,o,i=n("ofXK"),s=n("tyNb"),u=n("XNiG"),f=n("pLZG"),b=n("1G5W"),p=n("Na/C"),l=n("fXoL"),d=n("l7P3"),h=((c=function t(){r(this,t)}).getForecast=Object(d.g)("[Forecast Page] Get Forecast",Object(d.l)()),c.getForecastSuccess=Object(d.g)("[Forecast API] Get Forecast Success",Object(d.l)()),c.getForecastFailure=Object(d.g)("[Forecast API] Get Forecast Failure",Object(d.l)()),c),g={weatherForecast:null,apiState:p.a.Init,error:null},O=((o=function t(){r(this,t)}).featureSelectorKey="forecast",o.reducer=Object(d.i)(g,Object(d.k)(h.getForecast,(function(t,e){return Object.assign(Object.assign({},t),{apiState:p.a.Pending,error:null})})),Object(d.k)(h.getForecastSuccess,(function(t,e){var r=e.payload;return Object.assign(Object.assign({},t),{weatherForecast:r,apiState:p.a.Done,error:null})})),Object(d.k)(h.getForecastFailure,(function(t,e){var r=e.error;return Object.assign(Object.assign({},t),{apiState:p.a.Error,error:r})}))),o);function j(t,e){return O.reducer(t,e)}var F,y,S=((y=function t(){r(this,t)}).forecastState=Object(d.h)(O.featureSelectorKey),y.forecast=Object(d.j)(y.forecastState,(function(t){return t?t.weatherForecast:null})),y.error=Object(d.j)(y.forecastState,(function(t){return t?t.error:null})),y.apiState=Object(d.j)(y.forecastState,(function(t){return t?t.apiState:null})),y),v=((F=function(){function t(e){r(this,t),this.store=e,this.forecast$=this.store.select(S.forecast),this.error$=this.store.pipe(Object(d.m)(S.error)),this.apiState$=this.store.pipe(Object(d.m)(S.apiState))}return e(t,[{key:"getForecast",value:function(t){this.store.dispatch(h.getForecast({payload:t}))}}]),t}()).\u0275fac=function(t){return new(t||F)(l.Sb(d.b))},F.\u0275prov=l.Fb({token:F,factory:F.\u0275fac,providedIn:"root"}),F),k=n("dNgK"),w=n("DgpY"),m=n("bTqV"),$=n("Xa2L");function I(t,e){if(1&t){var r=l.Pb();l.Ob(0,"div",3),l.Ob(1,"div"),l.Kb(2,"app-weather-forecast-container",4),l.Nb(),l.Ob(3,"div",5),l.Ob(4,"button",6),l.Wb("click",(function(){return l.ic(r),l.ac().goBack()})),l.rc(5,"Back"),l.Nb(),l.Nb(),l.Nb()}if(2&t){var a=l.ac();l.zb(2),l.dc("location",a.city)}}function P(t,e){1&t&&l.Kb(0,"mat-spinner",7),2&t&&l.dc("diameter",50)("strokeWidth",2)}var G,C,N,D,J=[{path:"",component:(G=function(){function t(e,a,n,c){r(this,t),this.forecastFacade=e,this.router=a,this.snackBar=n,this.cdRef=c,this.apiState=p.a.Init,this.destroy$=new u.a}return e(t,[{key:"ngOnInit",value:function(){var t=this;this.forecastFacade.forecast$.pipe(Object(f.a)((function(t){return!!t})),Object(b.a)(this.destroy$)).subscribe((function(e){t.city=e}),(function(e){t.openSnackBar(e.message,"Error")})),this.forecastFacade.apiState$.pipe(Object(f.a)((function(t){return!!t})),Object(b.a)(this.destroy$)).subscribe((function(e){t.apiState=e,t.cdRef.detectChanges()})),this.loadForecast()}},{key:"loadForecast",value:function(){this.woeid=this.router.snapshot.paramMap.get("id"),this.forecastFacade.getForecast(this.woeid)}},{key:"goBack",value:function(){window.history.back()}},{key:"openSnackBar",value:function(t,e){this.snackBar.open(t,e,{duration:2e3})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}(),G.\u0275fac=function(t){return new(t||G)(l.Jb(v),l.Jb(s.a),l.Jb(k.a),l.Jb(l.h))},G.\u0275cmp=l.Db({type:G,selectors:[["app-detail"]],decls:3,vars:2,consts:[["class","detail-container",4,"ngIf"],[1,"spinner-loader"],["color","accent",3,"diameter","strokeWidth",4,"ngIf"],[1,"detail-container"],[3,"location"],[1,"back-btn"],["mat-raised-button","","color","primary",3,"click"],["color","accent",3,"diameter","strokeWidth"]],template:function(t,e){1&t&&(l.qc(0,I,6,1,"div",0),l.Ob(1,"div",1),l.qc(2,P,1,2,"mat-spinner",2),l.Nb()),2&t&&(l.dc("ngIf","Done"===e.apiState),l.zb(2),l.dc("ngIf","Done"!==e.apiState))},directives:[i.j,w.a,m.a,$.b],styles:[".detail-container[_ngcontent-%COMP%]{margin-right:auto;margin-left:auto;width:800px}.detail-container[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-top:20px}.spinner-loader[_ngcontent-%COMP%]{text-align:-webkit-center}"]}),G)}],B=((C=function t(){r(this,t)}).\u0275mod=l.Hb({type:C}),C.\u0275inj=l.Gb({factory:function(t){return new(t||C)},imports:[[s.c.forChild(J)],s.c]}),C),K=n("9jGm"),M=n("mrSG"),W=n("eIep"),x=n("lJxs"),L=n("JIr8"),X=n("LRne"),_=n("s3jh"),q=((N=function t(e,a){var n=this;r(this,t),this.actions$=e,this.weatherService=a,this.getForecast$=this.actions$.pipe(Object(K.d)(h.getForecast),Object(W.a)((function(t){return n.weatherService.getWeatherDetailForeCast(t.payload).pipe(Object(x.a)((function(t){return h.getForecastSuccess({payload:t})})),Object(L.a)((function(t){return Object(X.a)(h.getForecastFailure({error:t}))})))})))}).\u0275fac=function(t){return new(t||N)(l.Sb(K.a),l.Sb(_.a))},N.\u0275prov=l.Fb({token:N,factory:N.\u0275fac}),Object(M.a)([Object(K.b)()],N.prototype,"getForecast$",void 0),N),E=n("OhnZ"),R=((D=function t(){r(this,t)}).\u0275mod=l.Hb({type:D}),D.\u0275inj=l.Gb({factory:function(t){return new(t||D)},imports:[[i.b,B,E.a,m.b,$.a,k.b,d.d.forFeature(O.featureSelectorKey,j),K.c.forFeature([q])]]}),D)}}])}();